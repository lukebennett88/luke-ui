/// <reference types="vitest-axe/extend-expect" />
/// <reference types="vitest-dom/extend-expect" />

import { cleanup, render } from '@testing-library/react';
import { afterEach, describe, expect, it, vi } from 'vitest';
import { axe } from 'vitest-axe';

import type { {{componentName}}Props } from './{{packageName}}';
import { {{componentName}} } from './{{packageName}}';

afterEach(cleanup);

describe('{{componentName}}', () => {
	it('Should not have ARIA violations after render', async () => {
		vi.useRealTimers();
		const { container } = render{{componentName}}();
		const results = await axe(container);
		expect(results).toHaveNoViolations();
	});
});

////////////////////////////////////////////////////////////////////////////////

/** Helpers */

function render{{componentName}}(props?: Partial<{{componentName}}Props>) {
	return render(<{{componentName}} {...props} />);
}
